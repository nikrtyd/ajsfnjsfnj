<!doctypehtml><html lang=en><meta charset=UTF-8><meta content=IE=edge http-equiv=X-UA-Compatible><meta content=width=device-width,initial-scale=1.0 name=viewport><title>Задача: график 2</title><style>@import"https://fonts.googleapis.com/css2?family=JetBrains+Mono&display=swap";:root{--body-background: #114;--body-foreground: #eee;--body-background-locked: #225;--body-foreground-locked: #ddd;--button-background: #336;--button-background-active: #225;--button-border: #ccc;--table-border: #99f;--input-border: #aaf;--system-before: #ccc2;--label: #66a;--good: #6f80ef;--bad: #6c70df;--border-radius: 20px}body,main{margin:0 auto;background:var(--body-background);color:var(--body-foreground);font-family:"Bahnschrift","JetBrains Mono",Geneva,Verdana,sans-serif;font-size:18px;height:100vh}.flex{display:flex}.ai-c{align-items:center}.jc-c{justify-content:center}.dir-col{flex-direction:column}.ta-c{text-align:center}.hide{display:none}table,input[type=text],select,textarea{border-radius:20px;overflow:hidden;border:1px solid #99f;font:inherit;font-family:"JetBrains Mono"}select{padding:5px}button{padding:10px 20px;background:#77d;border-radius:20px;font:inherit;border:none}button:active{background:#44a}input,select,textarea{background:inherit;border:2px solid var(--input-border);padding:20px;color:inherit;min-height:30px}textarea{min-width:260px;border-radius:20px 20px 0}.good,.bad{font-weight:bold;font-size:14px}.good{color:var(--good)}.bad{color:var(--bad)}label{font-weight:bold;font-size:14px;color:var(--button-border)}.full-wh{width:100vw;height:100vh}.gap{gap:20px}.out{background-color:#fff}</style><body><div class="flex ai-c dir-col jc-c full-wh gap"><div class="in cont flex dir-col gap"><textarea cols=30 rows=10></textarea><button id=calc onclick=get()>Вычислить</button></div><div class="out cont flex dir-col gap"><canvas style="width:500px;height:500px;border:1px solid #d3d3d3"height=500 id=canvas width=500>Graph Test</canvas></div></div><script src=https://cdn.jsdelivr.net/npm/plotta.js@1.1.1/dist/dev/plotta.min.js></script><script crossorigin=anonymous integrity=sha512-6lYnaXxV7SCjRXACDDfNod7K610C8CkFbFlnxa3ZowVEbdWlnnJ5rvP9zWenwOhPBY+N3VqW/3SL0/mS4YJYlQ== referrerpolicy=no-referrer src=https://cdnjs.cloudflare.com/ajax/libs/algebra.js/0.2.3/algebra.js></script><script>let colors=["#f00","#0f0","#00f","#f0f","#f70","#70f","#f005","#0f05","#00f5","#f0f5","#f705"];function elem(e){return document.querySelector(e)}function elems(e){return document.querySelectorAll(e)}function get(){const e=elem("canvas"),t=new Plotta(e,{linedatas:newLinedata(parseInput()[1].length),config:{title:{location:"center",color:"#000",text:"График ф-ции"},grid:{visible:!0,color:"#888888"},border:{visible:!0,color:"#99f",width:1}}});t.SetAxisYLabel("X2"),t.SetAxisXLabel("X1"),t.SetAxisYLabelColor("#99f"),t.SetAxisXLabelColor("#99f"),t.SetTicsColor("#99f")}function parseInput(){let e=elem("textarea").value.replaceAll(";","").split(`\n\n`);return e[1]=e[1].split(`\n`),e}function newLinedata(e){let t=[];for(let r=0;r<e;r++)t.push({id:`line${r}`,type:"func",legend:parseInput()[1][r],color:colors[r],visible:!0,func:new Function("y",`return (${multSign(algebra.parse(parseInput()[1][r].replace(">=","=").replace("<=","=").replace("x1","y").replace("x2","z").replace("-y","0-y").replace("-z","0-z")).solveFor("z").toString())});`),dotNum:1e3});return t}function multSign(e){let t=e,r=e.match(/[0-9]\y/g),n=[];if(r)for(let l=0;l<r.length;l++)n[l]=r[l][0]+"*"+r[l][1],t=t.replace(r[l],n[l]);return t}</script>
